<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <script src="/js/Event.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
    <link rel="icon" href="/images/4.png" />
    <title>Informação do evento</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/locale/pt-br.min.js"></script>
  </head>
  <body
    onload="loadView('<%= event.startDateTime %>', '<%= event.endDateTime %>')"
  >
    <div class="container">
      <div
        class="bg-body-tertiary me-md-3 pt-3 px-3 pt-md-5 px-md-5 overflow-hidden pb-5"
        style="width: auto; height: auto; border-radius: 20px"
      >
        <div class="my-3 py-3">
          <h2 class="display-5 text-center">Informação do evento</h2>
        </div>
        <div
          class="bg-body shadow-sm mx-auto"
          style="width: auto; height: auto; border-radius: 20px"
        >
          <br />
          <div class="row">
            <div class="col-md-6">
              <p style="margin-left: 1cm">
                <strong>Nome:</strong> <%= event.name %>
              </p>
              <p style="margin-left: 1cm">
                <strong>Local: </strong>
                <a href="/locals/show/<%= event.local_id %>">Consultar</a>
              </p>
              <p style="margin-left: 1cm">
                <strong>Descrição:</strong> <%= event.description %>
              </p>
              <p id="startDate" style="margin-left: 1cm; margin-right: 1cm">
                <strong>Horário de início:</strong>
              </p>
              <p id="endDate" style="margin-left: 1cm; margin-right: 1cm">
                <strong>Horário de fim:</strong>
              </p>
              <br />
              <p style="margin-left: 1cm">
                <strong>Tabela de Preços:</strong>
              </p>

              <table
                class="table"
                style="
                  margin-left: 1cm;
                  width: auto;
                  height: auto;
                  text-align: center;
                "
              >
                <thead>
                  <tr>
                    <th>Faixa etária</th>
                    <th>Preço</th>
                    <th>Número de bilhetes vendidos</th>
                  </tr>
                </thead>
                <tbody class="table-group-divider">
                  <% if (event.priceInfantil != null) { %>
                  <tr>
                    <td>Infantil</td>
                    <td>€ <%= event.priceInfantil %></td>
                    <td><%= event.countInfantil %></td>
                  </tr>
                  <% } %> <% if (event.priceJuvenil != null) { %>
                  <tr>
                    <td>Juvenil</td>
                    <td>€ <%= event.priceJuvenil %></td>
                    <td><%= event.countJuvenil %></td>
                  </tr>
                  <% } %> <% if (event.priceAdulto != null) { %>
                  <tr>
                    <td>Adulto</td>
                    <td>€ <%= event.priceAdulto %></td>
                    <td><%= event.countAdulto %></td>
                  </tr>
                  <% } %> <% if (event.priceSenior != null) { %>
                  <tr>
                    <td>Sênior</td>
                    <td>€ <%= event.priceSenior %></td>
                    <td><%= event.countSenior %></td>
                  </tr>
                  <% } %>
                  <tr>
                    <td><strong>Total</strong></td>
                    <td></td>
                    <td>
                      <%= event.countInfantil + event.countJuvenil +
                      event.countAdulto + event.countSenior %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <p style="margin-left: 1cm">
                <strong>Máximo de bilhetes:</strong> <%= event.maxTickets %>
              </p>
            </div>
            <div class="col-md-6">
              <% if(event.image !== null) { %>
              <p style="margin-left: 1cm; margin-right: 1cm">
                <img
                  src="/images/<%= event.image %>"
                  alt="Imagem do evento"
                  class="img-fluid mb-4"
                  style="
                    width: auto;
                    height: auto;
                    border-radius: 20px;
                    position: relative;
                  "
                />
              </p>
              <br />
              <% } else { %>
              <p style="margin-left: 1cm; margin-right: 1cm">
                <img
                  src="/images/EventoSemImagem.png"
                  alt="Imagem do evento"
                  class="img-fluid mb-4"
                  style="
                    width: auto;
                    height: auto;
                    border-radius: 20px;
                    position: relative;
                  "
                />
              </p>
              <br />
              <% } %>
            </div>
          </div>
        </div>
        <br />
        <a href="/events" class="btn btn-primary">Voltar</a>
      </div>
    </div>
  </body>
</html>
